"use strict";(self.webpackChunktest_task_skila=self.webpackChunktest_task_skila||[]).push([[603],{603:function(e,a,t){t.r(a),t.d(a,{default:function(){return ze}});var s=t(413),r=t(925),c=t(791),n=t(439),i=t(433);function l(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return[e].concat((0,i.Z)(t.filter(Boolean)),(0,i.Z)(Object.entries(a).filter((function(e){var a=(0,n.Z)(e,2),t=(a[0],a[1]);return Boolean(t)})).map((function(e){return(0,n.Z)(e,1)[0]})))).join(" ")}var o="MainPage_MainPage__jdne3",d="MainPage_BlockFilter__zJWTu",u="MainPage_Search__X4MRR",m="MainPage_SearchBlock__HnTOQ",v="MainPage_ListingBalance__GVrDq",_="MainPage_Balance__yzwzi",f=t(165),h=t(861),p="BlockInfo_BlockInfo__7cRJ3",g="BlockInfo_Avatar__MWaC-",x="BlockInfo_TypeCall__btPgS",j="BlockInfo_RowCall__rDCHx",N="BlockInfo_RowCallActive__+ZnFx",b="BlockInfo_Table__VWMjK",Z="BlockInfo_Player__Pvb70",F="BlockInfo_BlackText__AZ8XN",k=t(671),B=t(144),S=t(243),P=function(){function e(){(0,k.Z)(this,e)}return(0,B.Z)(e,null,[{key:"get_data",value:function(){var e=(0,h.Z)((0,f.Z)().mark((function e(a){var t,r,c,n,i=arguments;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:null,{},c="https://api.skilla.ru/mango/".concat(a),t&&(c+="".concat(t)),r={headers:{Authorization:"Bearer testtoken","Content-type":"audio/mpeg, audio/x-mpeg, audio/x-mpeg-3, audio/mpeg3","Content-Transfer-Encoding":"binary"}},e.prev=5,e.next=8,S.Z.post(c,{},(0,s.Z)({},r));case 8:return n=e.sent,e.abrupt("return",n.data);case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(a){return e.apply(this,arguments)}}()},{key:"post_data",value:function(){var e=(0,h.Z)((0,f.Z)().mark((function e(a,t){var r,c,n;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},c="http://127.0.0.1:8000/".concat(a),""!==localStorage.getItem("token")&&(r={headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}),e.prev=3,e.next=6,S.Z.post(c,t,(0,s.Z)({},r));case 6:return n=e.sent,e.abrupt("return",n.data);case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a,t){return e.apply(this,arguments)}}()}]),e}();var y=t.p+"static/media/incoming_call.7ef36fa0f8cbf8cffacde7240432ccd9.svg";var w=t.p+"static/media/outgoing_call.4ec7e331523550f8790e12736c3600b0.svg",C={Player:"Player_Player__rnL1B"},D=t(184),M=["className","id_record","partnership_id"],H=(0,c.memo)((function(e){var a=e.className,t=e.id_record,s=e.partnership_id,n=((0,r.Z)(e,M),(0,c.useRef)(null));return(0,c.useEffect)((function(){var e=function(){var e=(0,h.Z)((0,f.Z)().mark((function e(){var a,r;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.Z.post("https://api.skilla.ru/mango/getRecord?record=".concat(t,"&partnership_id=").concat(s),{},{responseType:"blob",headers:{Authorization:"Bearer testtoken","Content-type":"audio/mpeg, audio/x-mpeg, audio/x-mpeg-3, audio/mpeg3","Content-Transfer-Encoding":"binary"}});case 3:a=e.sent,r=URL.createObjectURL(a.data),n.current&&(n.current.src=r,n.current.load()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error fetching audio:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){n.current&&(n.current.pause(),n.current.src="")}}),[t,s]),(0,D.jsx)("div",{className:l(C.Player,{},[a]),children:(0,D.jsx)("audio",{className:C.ButtonPlayer,ref:n,controls:!0})})})),L=t(689),T=["className","children"],I=(0,c.memo)((function(e){var a=(0,c.useState)(),t=(0,n.Z)(a,2),i=t[0],o=t[1],d=(0,c.useState)(null),u=(0,n.Z)(d,2),m=u[0],v=u[1],_=(0,L.TH)(),k=function(){v(null)},B=e.className,S=e.children,C=(0,r.Z)(e,T);function M(){return(M=(0,h.Z)((0,f.Z)().mark((function e(){var a;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get_data("getList".concat(_.search));case 2:a=e.sent,o(null===a||void 0===a?void 0:a.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){!function(){M.apply(this,arguments)}()}),[_.search]),(0,D.jsxs)("div",(0,s.Z)((0,s.Z)({className:l(p,{},[B])},C),{},{children:[(0,D.jsxs)("table",{className:b,children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"\u0422\u0438\u043f"}),(0,D.jsx)("th",{children:"\u0412\u0440\u0435\u043c\u044f"}),(0,D.jsx)("th",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"}),(0,D.jsx)("th",{children:"\u0417\u0432\u043e\u043d\u043e\u043a"}),(0,D.jsx)("th",{children:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a"}),(0,D.jsx)("th",{children:"\u041e\u0446\u0435\u043d\u043a\u0430"}),(0,D.jsx)("th",{}),(0,D.jsx)("th",{children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"})]})}),(0,D.jsx)("tbody",{children:null===i||void 0===i?void 0:i.map((function(e,a){return(0,D.jsxs)("tr",{onMouseEnter:function(){return function(e){v(e)}(a)},onMouseLeave:k,className:m===a?N:j,children:[(0,D.jsx)("img",{className:x,src:1===e.in_out?y:w}),(0,D.jsx)("td",{className:F,children:e.date.split(" ")[1].slice(0,5)}),(0,D.jsx)("img",{className:g,src:e.person_avatar,alt:"Avatar"}),(0,D.jsx)("td",{className:F,children:e.from_number}),(0,D.jsx)("td",{children:e.source}),(0,D.jsx)("td",{children:"\u041e\u0446\u0435\u043d\u043a\u0430"}),(0,D.jsx)("td",{className:Z,children:e.time>0&&m===a&&(0,D.jsx)(H,{id_record:e.record,partnership_id:e.partnership_id})}),(0,D.jsx)("td",{className:F,children:e.time>0&&m!==a&&"".concat(Math.floor(e.time/60),":").concat(String(e.time%60).padStart(2,"0"))})]},e.id)}))})]}),S]}))})),R={HeaderFilter:"Filter_HeaderFilter__xitUJ",ActiveHeaderFilter:"Filter_ActiveHeaderFilter__ZACmK",Vector:"Filter_Vector__l7u4s",ContainerVector:"Filter_ContainerVector__XYnYp",OpenFilter:"Filter_OpenFilter__fa1Gc",RowFilter:"Filter_RowFilter__Q1QOP",TextFilter:"Filter_TextFilter__fPjgP",ActiveRowFilter:"Filter_ActiveRowFilter__5gKp8"};var A=t.p+"static/media/vector_open.7757cfca81d4718a6afe345001cca628.svg";var O=t.p+"static/media/vector_close.c5d3d420e09d67ab8f294fca4d886ce1.svg",V=t(762),z=function(){var e=(0,L.TH)(),a=(0,L.s0)(),t=(0,c.useMemo)((function(){return new URLSearchParams(e.search)}),[e.search]),r=(0,c.useState)(!0),i=(0,n.Z)(r,2),l=i[0],o=i[1];return{setQueryParam:function(r,c){l||(c?t.set(r,c):t.delete(r),a((0,s.Z)((0,s.Z)({},e),{},{search:t.toString()})))},queryParameters:(0,c.useMemo)((function(){var e,a=t.entries(),s={},r=(0,V.Z)(a);try{for(r.s();!(e=r.n()).done;){var c=e.value;s[c[0]]=c[1]}}catch(n){r.e(n)}finally{r.f()}return o(!1),s}),[t]),initialLoad:l}},E=["className","children","nameFilter","filters","pathParams"],Y=(0,c.memo)((function(e){var a,t=e.className,i=e.children,o=e.nameFilter,d=e.filters,u=e.pathParams,m=(0,r.Z)(e,E),v=(0,c.useState)(!1),_=(0,n.Z)(v,2),f=_[0],h=_[1],p=z(),g=p.setQueryParam,x=(p.queryParameters,p.initialLoad,(0,c.useState)(null)),j=(0,n.Z)(x,2),N=j[0],b=j[1],Z=(0,c.useState)(o),F=(0,n.Z)(Z,2),k=F[0],B=F[1],S=function(){b(null)};return(0,D.jsxs)("div",(0,s.Z)((0,s.Z)({className:l(R.Filter,{},[t])},m),{},{children:[(0,D.jsxs)("div",{onClick:function(){return h(!f)},className:k===o?R.HeaderFilter:R.ActiveHeaderFilter,children:[(0,D.jsx)("div",{className:R.ContainerVector,children:(0,D.jsx)("img",{className:R.Vector,src:f?A:O})}),(0,D.jsx)("div",{children:k})]}),f&&(0,D.jsx)("div",{className:R.OpenFilter,children:d&&(null===(a=Object.values(d))||void 0===a?void 0:a.map((function(e,a){return(0,D.jsx)("div",{className:N===a?R.ActiveRowFilter:R.RowFilter,onClick:function(){B(e[0]),g("".concat(u),e[1]),h(!1)},onMouseEnter:function(){return function(e){b(e)}(a)},onMouseLeave:S,children:e[0]},e[0])})))}),i]}))})),q="PageWrapper_PageWrapper__wXBzN",G="Header_Header__syscm",Q="Header_HeaderImage__qDkPh";var J=t.p+"static/media/header.4979224f68479553dbac7e2674b1343a.svg",K=["className","children"],U=(0,c.memo)((function(e){var a=e.className,t=e.children,c=(0,r.Z)(e,K);return(0,D.jsxs)("div",(0,s.Z)((0,s.Z)({className:l(G,{},[a])},c),{},{children:[(0,D.jsx)("img",{className:Q,src:J}),t]}))})),W="NavBar_NavBarCustom__0kmDO",X="NavBar_Link__S0r4I",$="NavBar_IconLink__+cdS2",ee="NavBar_TextLink__docb2",ae="NavBar_Logo__-PfnX",te="NavBar_ContainerButton__KG6le",se="NavBar_Button__oPau5";var re=t.p+"static/media/calls.cdfa1fb0a400a84daedda566967e2f98.svg";var ce=t.p+"static/media/counterparties.806f1a6f21a675a0882dc11716da0f36.svg";var ne=t.p+"static/media/knowledge_base.de6880aa8d1f6311f6ef4936cbb9bfb6.svg";var ie=t.p+"static/media/orders.cc39a33f32527f0b9e43368ad2e78f6f.svg";var le=t.p+"static/media/performers.63b3830fabe5cd74eee483ec77748f2d.svg";var oe=t.p+"static/media/reports.522fa33138cf125514f1058e6c4f0e3d.svg";var de=t.p+"static/media/results.41184bc071adaaef7f94b4d48032e841.svg";var ue=t.p+"static/media/settings.1dbf4e8d98ea8b50162da0eae5b740a2.svg";var me=t.p+"static/media/messages.fff008c59b5d54b0f5841f140b3c6a05.svg";var ve=t.p+"static/media/documents.bbc26fbab17f27635ab5bf32bb81fb56.svg";var _e=t.p+"static/media/logo.c02089f1b3fda3c36d900ed693700252.svg",fe=t(942),he="Button_Button__KZLLT",pe="Button_outline__71fwA",ge="Button_IconButton__Jdaoi",xe=["outline","className","iconButton","children"],je=(0,c.memo)((function(e){var a=e.outline,t=void 0!==a&&a,c=e.className,n=e.iconButton,i=e.children,o=(0,r.Z)(e,xe),d=(0,fe.Z)({},pe,t);return(0,D.jsxs)("button",(0,s.Z)((0,s.Z)({className:l(he,d,[c])},o),{},{children:[n&&(0,D.jsx)("div",{className:ge,children:(0,D.jsx)("img",{src:n})}),i]}))}));var Ne=t.p+"static/media/alert.0eb9ec5dbb147d67b51157d03ce35c97.svg";var be=t.p+"static/media/plus.59e53661d059eaa31b8d2dfd1a5247b0.svg",Ze=["className","children"],Fe=(0,c.memo)((function(e){var a=e.className,t=e.children,c=(0,r.Z)(e,Ze);return(0,D.jsxs)("div",(0,s.Z)((0,s.Z)({className:l(W,{},[a])},c),{},{children:[(0,D.jsx)("img",{className:ae,src:_e,alt:"logo"}),(0,D.jsxs)("div",{className:X,children:[(0,D.jsx)("img",{className:$,src:de}),(0,D.jsx)("span",{className:ee,children:"\u0418\u0442\u043e\u0433\u0438"})]}),(0,D.jsxs)("div",{className:X,children:[(0,D.jsx)("img",{className:$,src:ie}),(0,D.jsx)("span",{className:ee,children:"\u0417\u0430\u043a\u0430\u0437\u044b"})]}),(0,D.jsxs)("div",{className:X,children:[(0,D.jsx)("img",{className:$,src:me}),(0,D.jsx)("span",{className:ee,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})]}),(0,D.jsxs)("div",{className:X,children:[(0,D.jsx)("img",{className:$,src:re}),(0,D.jsx)("span",{className:ee,children:"\u0417\u0432\u043e\u043d\u043a\u0438"})]}),(0,D.jsxs)("div",{className:X,children:[(0,D.jsx)("img",{className:$,src:ce}),(0,D.jsx)("span",{className:ee,children:"\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u044b"})]}),(0,D.jsxs)("div",{className:X,children:[(0,D.jsx)("img",{className:$,src:ve}),(0,D.jsx)("span",{className:ee,children:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"})]}),(0,D.jsxs)("div",{className:X,children:[(0,D.jsx)("img",{className:$,src:le}),(0,D.jsx)("span",{className:ee,children:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0438"})]}),(0,D.jsxs)("div",{className:X,children:[(0,D.jsx)("img",{className:$,src:oe}),(0,D.jsx)("span",{className:ee,children:"\u041e\u0442\u0447\u0435\u0442\u044b"})]}),(0,D.jsxs)("div",{className:X,children:[(0,D.jsx)("img",{className:$,src:ne}),(0,D.jsx)("span",{className:ee,children:"\u0411\u0430\u0437\u0430 \u0437\u043d\u0430\u043d\u0438\u0439"})]}),(0,D.jsxs)("div",{className:X,children:[(0,D.jsx)("img",{className:$,src:ue}),(0,D.jsx)("span",{className:ee,children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,D.jsxs)("div",{className:te,children:[(0,D.jsx)(je,{className:se,iconButton:be,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),(0,D.jsx)(je,{className:se,iconButton:Ne,children:"\u041e\u043f\u043b\u0430\u0442\u0430"})]}),t]}))})),ke=["className","children"],Be=(0,c.memo)((function(e){var a=e.className,t=e.children,c=(0,r.Z)(e,ke);return(0,D.jsxs)("div",(0,s.Z)((0,s.Z)({className:l(q,{},[a])},c),{},{children:[(0,D.jsx)(Fe,{}),(0,D.jsx)(U,{}),t]}))}));var Se=t.p+"static/media/search.5c256363d20308b8e6b5d885f1798174.svg",Pe="FilterDate_FilterDate__eojL+",ye="FilterDate_OpenFilter__VHqsC",we="FilterDate_TextHeader__fUpmG",Ce="FilterDate_HeaderFilter__Gjur-",De="FilterDate_Calendar__JSkuT",Me="FilterDate_Vector__tYMs0",He="FilterDate_StatusHeader__GI4ra";var Le=t.p+"static/media/vector_right.8ef17d345eeccabc519cf4eeb3272cc0.svg";var Te=t.p+"static/media/vector_left.28602bc6b52322437034e7c8e89b2436.svg";var Ie=t.p+"static/media/calendar.0946190fab09dbb5d0f9e1c21f22d4a7.svg",Re=["className","children"],Ae=(0,c.memo)((function(e){var a=new Date,t=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0"),d="".concat(t,"-").concat(i,"-").concat(o),u=z(),m=u.setQueryParam,v=(u.queryParameters,u.initialLoad,(0,c.useState)("3 \u0434\u043d\u044f")),_=(0,n.Z)(v,2),f=_[0],h=(_[1],(0,c.useState)(!1)),p=(0,n.Z)(h,2),g=p[0],x=p[1],j=(0,c.useState)(d),N=(0,n.Z)(j,2),b=N[0],Z=N[1],F=(0,c.useState)(d),k=(0,n.Z)(F,2),B=k[0],S=k[1],P=function(e){Z(B);var a=new Date(b);a.setDate(a.getDate()+e);var t=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0"),c="".concat(t,"-").concat(s,"-").concat(r);S(c),m("date_start",b),m("date_end",c),console.log("\u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e")},y=e.className,w=e.children,C=(0,r.Z)(e,Re);return(0,D.jsxs)("div",(0,s.Z)((0,s.Z)({className:l(Pe,{},[y])},C),{},{children:[(0,D.jsxs)("div",{className:Ce,children:[(0,D.jsx)("img",{onClick:function(){P(-3)},className:Me,src:Te,alt:"left"}),(0,D.jsxs)("div",{className:He,onClick:function(){return x(!g)},children:[(0,D.jsx)("img",{className:De,src:Ie,alt:"calendar"}),(0,D.jsx)("div",{className:we,children:f})]}),(0,D.jsx)("img",{className:Me,src:Le,alt:"right"})]}),g&&(0,D.jsxs)("div",{className:ye,children:[(0,D.jsxs)("div",{onClick:function(){return P(2)},children:[b," ",B]}),(0,D.jsx)("div",{children:"3 \u0434\u043d\u044f"}),(0,D.jsx)("div",{children:"\u041d\u0435\u0434\u0435\u043b\u044f"}),(0,D.jsx)("div",{children:"\u041c\u0435\u0441\u044f\u0446"}),(0,D.jsx)("div",{children:"\u0413\u043e\u0434"})]}),w]}))}));var Oe=t.p+"static/media/balance.75b7d5d757da12ae8f1c20d3899a081a.svg",Ve=["className","children"],ze=(0,c.memo)((function(e){var a=e.className,t=e.children,c=(0,r.Z)(e,Ve),n=new Date,i=n.getFullYear(),f=String(n.getMonth()+1).padStart(2,"0"),h=String(n.getDate()).padStart(2,"0"),p="".concat(i,"-").concat(f,"-").concat(h),g=new Date;g.setDate(n.getDate()-2);var x=g.getFullYear(),j=String(g.getMonth()+1).padStart(2,"0"),N=String(g.getDate()).padStart(2,"0"),b="".concat(x,"-").concat(j,"-").concat(N);console.log(p),console.log(b);return(0,D.jsx)(Be,{children:(0,D.jsxs)("div",(0,s.Z)((0,s.Z)({className:l(o,{},[a])},c),{},{children:[(0,D.jsxs)("div",{className:v,children:[(0,D.jsx)("img",{className:_,src:Oe}),(0,D.jsx)(Ae,{})]}),(0,D.jsxs)("div",{className:d,children:[(0,D.jsxs)("div",{className:m,children:[(0,D.jsx)("img",{className:u,src:Se}),"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0437\u0432\u043e\u043d\u043a\u0430\u043c"]}),(0,D.jsx)(Y,{nameFilter:"\u0412\u0441\u0435 \u0442\u0438\u043f\u044b",filters:{incomingCalls:["\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435","1"],outgoingCalls:["\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435","0"],allCalls:["\u0412\u0441\u0435",""]},pathParams:"in_out"}),(0,D.jsx)(Y,{nameFilter:"\u0412\u0441\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"}),(0,D.jsx)(Y,{nameFilter:"\u0412\u0441\u0435 \u0437\u0432\u043e\u043d\u043a\u0438"}),(0,D.jsx)(Y,{nameFilter:"\u0412\u0441\u0435 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0438"}),(0,D.jsx)(Y,{nameFilter:"\u0412\u0441\u0435 \u043e\u0446\u0435\u043d\u043a\u0438"})]}),(0,D.jsx)(I,{}),t]}))})}))}}]);
//# sourceMappingURL=603.002563dd.chunk.js.map